<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
    <title>Document</title>
</head>

<body>
    <table border="1px solid black" cellspacing="0" cellpadding="" class="table table-striped">
        <thead>
            <th> STT </th>
            <th> NAME </th>
            <th> IMAGE </th>
            <th> SDT </th>
            <th> GIOI TINH </th>
            <th> TRANG THAI </th>
            <th> UPDATE </th>
            <th> DELETE </th>
        </thead>
        <tbody id="data">
        </tbody>
    </table>
</body>

</html>
<script>
    var url = 'https://61c5c433c003e70017b798df.mockapi.io/user1';
    fetch(url, {
            method: 'GET',
        })
        .then(function (response) {
            return response.json();
        })
        .then(function (data) {
            var elements = document.querySelector("#data");
            var content = "";
            data.forEach(function (item) {
                content += `
                    <tr id="item-${item.id}">
                        <td>${item.id}</td>
                        <td>${item.name}</td>
                        <td><img src="${item.avatar}" style="width: 100px;" alt=""></td>
                        <td>${item.SDT}</td>
                        <td>${item.gender}</td>
                        <td>${item.status}</td>
                        <td><button class="btn btn-primary" onclick="updateItem()">SỬA</button></td>
                        <td><button  class="btn btn-danger"onclick="removeItem(${item.id})">XÓA</button></td>

                    </tr>
                `;
            });
            elements.innerHTML = content;
        });

    function removeItem(id) {
        var nodeRemove = document.querySelector("#item-" + id);
        nodeRemove.remove();
        var removeUrl = url + "/" + id;
        fetch(removeUrl, {
                method: "DELETE"
            })
            // chỉ cần phần trên là xóa được rồi
            .then(function (response) {
                return response.json();
            })
            .then(function (data) {
                console.log(data);
            })
    }
</script>