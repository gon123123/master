<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
    <title>Document</title>
</head>

<body onload="getDataClass();">
    <div class="container">
        <h4 align="center">DANH SACH CAC CLASS</h4>
        <table class="table table-striped table-responsive-sm">
            <thead>
                <th>ID CLASS</th>
                <th>nam class</th>
                <th>logo</th>
                <th><a href="add_class.html" class="btn btn-primary">ADD CLASS NEW</a></th>
            </thead>
            <tbody>

            </tbody>
        </table>
    </div>
</body>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>
    var url = "https://61cb2cfd194ffe0017788c15.mockapi.io/class";
    var htmls = "";

    function getDataClass() {
        axios.get(url)
            .then(function (response) {
                var data = response.data;
                data.forEach(function (item) {
                    htmls += `
                        <tr id="item-class-${item.id}">
                            <td>${item.id}</td>
                            <td>${item.name}</td>
                            <td>
                            <img src="${item.avatar}" style="width:100px">
                            </td>
                            <td><a class="btn btn-outline-info" href="list_student.html?id=${item.id}">Manage class</a></td>
                            <td><a class="btn btn-success" href="edit_class.html?id=${item.id}">UPDATE</a></td>
                            <td><button class="btn btn-danger" onclick="removeElement(${item.id});">DEL</button></td>
                        </tr>
                        `;
                })
                document.querySelector("tbody").innerHTML = htmls;
            })
    }

    function removeElement(id) {
        var urlDel = url + "/" + id;
        axios.delete(urlDel)
            .then(function (response) {
                var elementClass = document.querySelector("#item-class-" + id);
                console.log(elementClass);
                elementClass.remove();
            })
    }
</script>

</html>